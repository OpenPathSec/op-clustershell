.\" Man page generated from reStructeredText.
.TH clush.conf 5 "2009-07-08" "1.1" "ClusterShell User Manual"
.SH NAME
clush.conf \- Configuration file for clush

.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level magin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..

.SH DESCRIPTION
\fBclush\fP(1) obtains configuration options from the following sources in the
following order:

.INDENT 0.0
.INDENT 3.5
.INDENT 0.0

.IP 1. 3
command\-line options


.IP 2. 3
user configuration file (\fI~/.clush.conf\fP)


.IP 3. 3
system\-wide configuration file (\fI/etc/clustershell/clush.conf\fP)

.UNINDENT
.UNINDENT
.UNINDENT
For each parameter, the first obtained value will be used.

The configuration file has a format in the style of RFC 822 composed
of two sections which may be present in any order. The section names are:

.INDENT 0.0

.TP
.B Main
Program options definition


.TP
.B External
External commands definition

.UNINDENT

.SS [Main]
Configuration parameters of the \fBMain\fP section are described below.

.INDENT 0.0

.TP
.B fanout
Size of the sliding window of ssh connectors.


.TP
.B connect_timeout
Timeout in seconds to allow a connection to establish. This parameter is
passed to ssh. If set to \fI0\fP, no timeout occurs.


.TP
.B command_timeout
Timeout in seconds to allow a command to complete since the connection has
been established. This parameter is passed to ssh.  In addition, the
ClusterShell library ensures that any commands complete in less than
( connect_timeout + command_timeout ). If set to \fI0\fP, no timeout occurs.


.TP
.B history_size
Set the maximum number of history entries saved in the GNU readline history
list. Negative values imply unlimited history file size.


.TP
.B verbosity
Set the verbosity level: \fI0\fP (quiet), \fI1\fP (default), \fI2\fP (verbose) or more (debug).


.TP
.B ssh_user
Set the ssh user to use for remote connection (default is to not specify).


.TP
.B ssh_path
Set the ssh binary path to use for remote connection (default is
\fI/usr/bin/ssh\fP).


.TP
.B ssh_options
Set additional options to pass to the underlying ssh command.

.UNINDENT

.SS [External]
The \fBExternal\fP section defines external commands whose output will be
used by \fBclush\fP, for example, to perform host selection:

.INDENT 0.0

.TP
.B nodes_all
This parameter defines a command line to retrieve all available cluster(s)
nodes as a valid NodeSet string. This command will be called by \fBclush\fP
when option \fI\-a\fP is used.


.TP
.B nodes_group
This parameter defines a command line to retrieve cluster nodes associated
to a given group as a valid NodeSet string. This command will be called by
\fBclush\fP when option \fI\-g group\fP is used. The variable \fI%(group)s\fP, which
should be present in the command line, is resolved before the execution of
the command.

.UNINDENT

.SH EXAMPLES
Simple configuration file on a cluster where all nodes are defined
in \fI/etc/machines\fP and node groups are defined in netgroups. Note
the use of the \fBnodeset\fP utility command which is also provided
with ClusterShell.


.SS \fIclush.conf\fP

[Main]
.br
fanout: 128
.br
connect_timeout: 15
.br
command_timeout: 0
.br
history_size: 100
.br

.br
[External]
.br
nodes_all:   /usr/bin/nodeset \-f < /etc/machines
.br
nodes_group: /path/to/mygetgroup %(group)s | /usr/bin/nodeset \-f
.br

For example, if you create a file \fI/etc/clustershell/groups\fP containing \fIgroup\fP: \fInodes\fP lines, you could configure \fInodes_group\fP as follow:


nodes_group: awk \-F: \'/^%(group)s:/ {print $2}\' /etc/clustershell/groups | nodeset \-f
.br


.SH FILES
.INDENT 0.0

.TP
.B \fI~/.clush.conf\fP
This is the per\-user configuration file.


.TP
.B \fI/etc/clustershell/clush.conf\fP
System\-wide configuration file.

.UNINDENT

.SH SEE ALSO
\fBclush\fP(1), \fBnodeset\fP(1)

\fI\%http://clustershell.sourceforge.net/\fP


.SH AUTHOR
Stephane Thiell, CEA DAM  <stephane.thiell@cea.fr>

.SH COPYRIGHT
CeCILL-C V1

.\" Generated by docutils manpage writer on 2009-07-08 11:33.
.\" 
